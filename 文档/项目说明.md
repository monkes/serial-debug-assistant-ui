# 调试助手

一个支持动态加载插件的调试工具，可以通过添加插件来扩展功能。

## 功能特点

- 支持动态加载Python插件
- 插件管理界面
- 日志和调试输出窗口
- 可扩展的插件系统
- 系统插件和用户插件分离

## 系统要求

- Python 3.6+
- pip (用于安装项目依赖)
- PyQt5 5.15.0+
- PySerial 3.5+

### 安装pip（用于安装依赖）

本项目使用 Python 3 开发，运行时需要通过 pip 安装依赖库。如果系统未安装 pip，可以通过以下方式安装：

```bash
# Ubuntu/Debian
sudo apt-get install python3-pip

# CentOS/RHEL
sudo yum install python3-pip

# 或使用官方安装脚本
curl https://bootstrap.pypa.io/get-pip.py -o get-pip.py
sudo python3 get-pip.py
```

## 安装

### 从源码安装

```bash
# 克隆仓库
git clone <repository_url>
cd debug-assistant

# 安装依赖（使用系统包管理器）
sudo apt-get install python3-pyqt5 python3-serial python3-pyqt5.sip python3-pyqt5.qtserialport

# 运行程序
python3 run.py

# 或使用启动脚本
./run.sh
```

### 从deb包安装

#### 构建deb包

```bash
# 克隆仓库
git clone <repository_url>
cd debug-assistant

# 构建deb包
./build.sh

# 构建产物位于 build_output/ 目录
ls build_output/
```

#### 安装deb包

```bash
# 安装deb包（构建产物位于 build_output/ 目录）
sudo dpkg -i build_output/debug-assistant_<version>-<revision>_all.deb

# 如果有依赖问题，运行
sudo apt-get install -f
```

> 注意：
> - `<version>` 替换为实际版本号（如：1.0.0）
> - `<revision>` 替换为修订号（如：0）
> - 完整示例：`debug-assistant_1.0.0-0_all.deb`

## 使用说明

### 开发环境

在开发环境中，可以使用以下方式启动程序：

```bash
# 使用Python直接运行
python3 run.py

# 或使用启动脚本
./run.sh
```

### 安装后环境

在安装后的环境中，可以使用以下方式启动程序：

```bash
# 使用命令行
debug-assistant

# 或从应用程序菜单启动
```

### 插件管理

1. 启动程序后，左侧会显示插件管理面板
2. 点击"插件"菜单中的"加载插件"可以添加新的插件
3. 在插件列表中选择插件，可以查看插件信息
4. 点击"移除插件"按钮可以卸载选中的插件
5. 新插件会自动复制到用户插件目录 (~/.local/share/debug-assistant/plugins/)
6. 详见插件权限说明.md了解插件权限管理机制

## 开发插件

插件需要继承`PluginInterface`类并实现以下方法：

- `get_name()`: 返回插件名称
- `get_description()`: 返回插件描述
- `get_version()`: 返回插件版本
- `get_author()`: 返回插件作者

可选实现的方法：

- `initialize(main_window)`: 初始化插件
- `activate()`: 激活插件
- `deactivate()`: 停用插件

### 插件目录

- 系统插件目录：`/usr/lib/debug-assistant/plugins/`（需要root权限）
- 用户插件目录：`~/.local/share/debug-assistant/plugins/`（无需root权限）

详见插件权限说明.md了解插件权限管理机制

## 许可证

MIT License

## 作者

Zhang yang

## 版本

1.0.0
